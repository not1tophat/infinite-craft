(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1229:function(t,n,o){"use strict";o(755)},1230:function(t,n,o){var e=o(104)(!1);e.push([t.i,".sun-vs-moon-one{font-size:21px;animation:sunvsmoonFadeUp 1s linear forwards;height:0}@keyframes sunvsmoonFadeUp{0%{opacity:1;transform:translateY(-20px)}to{opacity:0;transform:translateY(-100px);display:none}}",""]),t.exports=e},1231:function(t,n,o){"use strict";o(756)},1232:function(t,n,o){var e=o(104)(!1);e.push([t.i,".sides[data-v-6c016bda]{display:grid;grid-template-columns:1fr 1fr;justify-items:center;position:fixed;top:0;left:0;background:#ffffe0}.side[data-v-6c016bda],.sides[data-v-6c016bda]{width:100%;height:100%;align-items:center}.side[data-v-6c016bda]{position:relative;padding:60px;display:flex;justify-content:center}.main-btn[data-v-6c016bda],.side[data-v-6c016bda]{text-align:center}.main-btn[data-v-6c016bda]{border:none;color:#fff;padding:15px 32px;text-decoration:none;display:inline-block;font-size:18px;margin:4px 2px;cursor:pointer;border-radius:5px;color:#000;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:opacity .2s ease-in-out,transform .1s ease-in-out;touch-action:manipulation}.main-btn[data-v-6c016bda]:active{transform:scale(.93)}.points[data-v-6c016bda]{margin-top:10px;font-size:30px;margin-bottom:6px;font-weight:700}.pps[data-v-6c016bda]{font-size:16px}.scored[data-v-6c016bda]{opacity:.5;margin-top:50px;font-size:14px}#moon-btn[data-v-6c016bda]{background-color:#000;color:#fff;box-shadow:0 0 10px rgba(0,0,0,.3)}#sun-btn[data-v-6c016bda]{background-color:#ffb700;box-shadow:0 0 10px rgba(255,183,0,.3);color:#000}.main-btn[data-v-6c016bda]:disabled{opacity:.65;pointer-events:none;transform:scale(.95)}.captcha-container[data-v-6c016bda]{position:fixed;bottom:30px;transform:translateX(-50%);z-index:100;isolation:isolate;transition:opacity .33s linear}.team-name[data-v-6c016bda]{font-size:32px;margin-bottom:20px}.bg[data-v-6c016bda]{position:fixed;top:0;right:0;width:100%;height:100%;-webkit-backdrop-filter:invert(100%);backdrop-filter:invert(100%);transform-origin:top right;transition:transform 1s ease-in-out;z-index:99;pointer-events:none}.moon[data-v-6c016bda]{right:0;transform:translateX(35%);transform-origin:center center;mix-blend-mode:exclusion;filter:drop-shadow(0 0 10px rgba(250,250,250,.3))}.moon[data-v-6c016bda],.sun[data-v-6c016bda]{position:fixed;bottom:0;width:200px;z-index:97;transition:transform 1s ease-in-out}.sun[data-v-6c016bda]{left:0;transform:translate(-35%);transform-origin:center center;mix-blend-mode:multiply;filter:drop-shadow(0 0 10px rgba(255,106,0,.45))}#captcha-container-sun[data-v-6c016bda]{left:25%}#captcha-container-moon[data-v-6c016bda]{left:75%}.title[data-v-6c016bda]{left:50%;transform:translateX(calc(-50% + 10px));z-index:100;font-size:24px;mix-blend-mode:difference;color:#fff}.site-title[data-v-6c016bda],.title[data-v-6c016bda]{position:fixed;top:10px}.site-title[data-v-6c016bda]{left:10px;z-index:98;width:110px}.site-title[data-v-6c016bda]:hover{cursor:pointer;transform:scale(1.05)}.side-inner[data-v-6c016bda]{position:relative}.ones[data-v-6c016bda]{position:absolute;top:0;left:50%;transform:translateX(-50%)}@media screen and (max-width:600px){.sides[data-v-6c016bda]{grid-template-columns:1fr}#captcha-container-sun[data-v-6c016bda]{left:50%;bottom:50%;transform:translate(-50%,-10px)}#captcha-container-moon[data-v-6c016bda]{left:50%;bottom:10px}.moon[data-v-6c016bda]{left:0;right:auto;transform:translate(-35%,calc(-50svh + 100% + 10px))}.moon[data-v-6c016bda],.sun[data-v-6c016bda]{width:125px}.sun[data-v-6c016bda]{left:auto;right:0;top:0;transform:translate(35%,calc(50svh - 100% - 10px))}.bg[data-v-6c016bda]{top:auto;bottom:0;transform-origin:bottom right}.scored[data-v-6c016bda]{margin-top:10px;display:none}.pps[data-v-6c016bda]{margin-bottom:20px}.title[data-v-6c016bda]{top:10px;left:auto;right:10px;font-size:18px;transform:none}}@media screen and (min-width:1100px){.main-btn[data-v-6c016bda]{font-size:22px}.points[data-v-6c016bda]{font-size:32px}.pps[data-v-6c016bda]{font-size:17px}.scored[data-v-6c016bda]{font-size:16px}.moon[data-v-6c016bda],.sun[data-v-6c016bda]{width:210px}.title[data-v-6c016bda]{font-size:28px;transform:translateX(calc(-50% + 13px))}.site-title[data-v-6c016bda]{width:130px}}@media screen and (min-width:1200px){.main-btn[data-v-6c016bda]{font-size:23px}.points[data-v-6c016bda]{font-size:34px}.pps[data-v-6c016bda]{font-size:18px}.scored[data-v-6c016bda]{font-size:17px}.moon[data-v-6c016bda],.sun[data-v-6c016bda]{width:220px}.title[data-v-6c016bda]{font-size:32px;transform:translateX(calc(-50% + 15px))}.site-title[data-v-6c016bda]{width:140px}}",""]),t.exports=e},1360:function(t,n,o){"use strict";o.r(n);var e=o(10),r=(o(60),o(45),o(15),o(106),o(31),o(82),o(109),{head:function(){return{script:[{src:"https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",async:!0,defer:!0}]}},watch:{userSunVotes:function(t){this.updateLocalStorage()},userMoonVotes:function(t){this.updateLocalStorage()}},data:function(){return{sunVotes:0,moonVotes:0,userSunVotes:0,userMoonVotes:0,sunPerSecond:0,moonPerSecond:0,moonDisabled:!1,sunDisabled:!1,lastUpdate:null,ws:null,ratio:.5,isMobile:!1}},mounted:function(){var t=this;this.$addEventListener("resize",this.onResize),this.onResize();var data=JSON.parse(localStorage.getItem("sun-vs-moon-data"));data&&(this.userSunVotes=data.sun||0,this.userMoonVotes=data.moon||0);!function n(){t.ws=new WebSocket("wss://dolphin-app-cz8h4.ondigitalocean.app"),t.ws.onclose=function(){this.ws=null,setTimeout((function(){console.log("Reconnecting to websocket"),n()}),2e3)},t.ws.onerror=function(t){console.error("WebSocket Error "+t),this.ws.close()},t.ws.onmessage=function(n){var data=JSON.parse(n.data);if(!(data.sun<t.sunVotes||data.moon<t.moonVotes)){t.lastUpdate&&(t.sunPerSecond=Math.round((data.sun-t.sunVotes)/((performance.now()-t.lastUpdate)/1e3)),t.moonPerSecond=Math.round((data.moon-t.moonVotes)/((performance.now()-t.lastUpdate)/1e3))),t.lastUpdate=performance.now(),t.animateNumber(t.sunVotes,data.sun,t.$refs.sunVotes),t.animateNumber(t.moonVotes,data.moon,t.$refs.moonVotes),t.sunVotes=data.sun,t.moonVotes=data.moon;var o,e,r=(t.sunPerSecond+15)/(t.moonPerSecond+15),d=(t.moonPerSecond+15)/(t.sunPerSecond+15);t.ratio=(o=t.moonPerSecond+1,e=t.sunPerSecond+1,(o>e?d-1:1-r)/4/2+.5),window.innerWidth>600?(t.$refs.sun.style.transform="translate(-35%, calc(100% + ".concat(-Math.min(r/3,1)*window.innerHeight+"px","))"),t.$refs.moon.style.transform="translate(35%, calc(100% + ".concat(-Math.min(d/3,1)*window.innerHeight+"px","))")):(t.$refs.sun.style.transform="translate(35%, calc(-100% + ".concat((1-t.ratio)*window.innerHeight-10+"px","))"),t.$refs.moon.style.transform="translate(-35%, calc(100% + ".concat(-t.ratio*window.innerHeight+10+"px","))"))}}}()},methods:{vote:function(t){var n=this;return Object(e.a)(regeneratorRuntime.mark((function o(){var e;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:document.getElementById("captcha-container-".concat(t)).innerHTML="",fetch("https://neal.fun/api/sun-vs-moon/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({vote:t})}),(e=document.createElement("div")).classList.add("sun-vs-moon-one"),e.textContent="+1",e.style="margin-left: ".concat(Math.floor(50*Math.random()-25),"px; scale: ").concat(.4*Math.random()+.8),"sun"===t?(n.userSunVotes++,n.$refs.sunOnes.appendChild(e)):(n.userMoonVotes++,n.$refs.moonOnes.appendChild(e));case 7:case"end":return o.stop()}}),o)})))()},animateNumber:function(t,n,element){var o=null;window.requestAnimationFrame((function e(r){o||(o=r);var progress=r-o;element.textContent=Math.round(t+progress/1e3*(n-t)),element.textContent=element.textContent.replace(/\B(?=(\d{3})+(?!\d))/g,","),progress<1e3&&window.requestAnimationFrame(e)}))},numToCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},updateLocalStorage:function(){localStorage.setItem("sun-vs-moon-data",JSON.stringify({sun:this.userSunVotes,moon:this.userMoonVotes}))},onResize:function(){this.isMobile=window.innerWidth<=600}},beforeDestroy:function(){this.ws.onmessage=null,this.ws.onclose=null,this.ws.close()}}),d=(o(1229),o(1231),o(28)),component=Object(d.a)(r,(function(){var t=this,n=t._self._c;return n("client-only",[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"bg",style:{transform:t.isMobile?"scaleY(".concat(t.ratio,")"):"scaleX(".concat(t.ratio,")")}}),t._v(" "),n("nuxt-link",{attrs:{to:"/"}},[n("img",{staticClass:"site-title",attrs:{src:"/general/logo.svg"}})]),t._v(" "),n("img",{ref:"moon",staticClass:"moon",attrs:{src:"/sun-vs-moon/moon.webp"}}),t._v(" "),n("img",{ref:"sun",staticClass:"sun",attrs:{src:"/sun-vs-moon/sun.webp"}}),t._v(" "),n("div",{staticClass:"title"},[t._v("Sun vs Moon")]),t._v(" "),n("div",{staticClass:"sides"},[n("div",{staticClass:"side side-1"},[n("div",{staticClass:"side-inner"},[n("div",{ref:"sunOnes",staticClass:"ones"}),t._v(" "),n("button",{staticClass:"main-btn",attrs:{id:"sun-btn",disabled:t.sunDisabled},on:{click:function(){return t.vote("sun")}}},[t._v("\n            +1 Sun\n          ")]),t._v(" "),n("div",{staticClass:"points"},[n("span",{ref:"sunVotes"}),t._v(" points")]),t._v(" "),n("div",{staticClass:"pps"},[t._v("\n            "+t._s(t.numToCommas(t.sunPerSecond))+" points per second\n          ")]),t._v(" "),n("div",{staticClass:"scored"},[t._v("\n            You've scored "+t._s(t.numToCommas(t.userSunVotes))+" points for Sun\n          ")])])]),t._v(" "),n("div",{staticClass:"side side-2"},[n("div",{staticClass:"side-inner"},[n("div",{ref:"moonOnes",staticClass:"ones"}),t._v(" "),n("button",{staticClass:"main-btn",attrs:{id:"moon-btn",disabled:t.moonDisabled},on:{click:function(){return t.vote("moon")}}},[t._v("\n            +1 Moon\n          ")]),t._v(" "),n("div",{staticClass:"points"},[n("span",{ref:"moonVotes"}),t._v(" points")]),t._v(" "),n("div",{staticClass:"pps"},[t._v("\n            "+t._s(t.numToCommas(t.moonPerSecond))+" points per second\n          ")]),t._v(" "),n("div",{staticClass:"scored"},[t._v("\n            You've scored "+t._s(t.numToCommas(t.userMoonVotes))+" points for Moon\n          ")])])])]),t._v(" "),n("div",{staticClass:"captcha-container",attrs:{id:"captcha-container-moon"}}),t._v(" "),n("div",{staticClass:"captcha-container",attrs:{id:"captcha-container-sun"}})],1)])}),[],!1,null,"6c016bda",null);n.default=component.exports},755:function(t,n,o){var content=o(1230);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(105).default)("91ba28ba",content,!0,{sourceMap:!1})},756:function(t,n,o){var content=o(1232);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(105).default)("aec3b6d2",content,!0,{sourceMap:!1})}}]);